<!DOCTYPE html>
<html lang="en" dir="ltr" data-theme="auto">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Hossein Vahid, D. Sc. (Tech.)</title>

  <!-- Lato -->
  <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;600;700;900&display=swap" rel="stylesheet">

  <style>
    :root{
      --accent:#1A318B;
      --accent-ink:#16286b;
      --ink:#101215;
      --muted:#606870;
      --card-bg:#f7f9ff;
      --hair:#e6e9f0;
      --content-width: 980px;
      --outer-margin: 36px;
      --side-padding: 26px;
      --radius:16px;
      --shadow: 0 10px 28px rgba(0,0,0,.06);
      --shadow-hover: 0 12px 32px rgba(0,0,0,.10);
      --bg: #ffffff;
      --bg-soft: #fbfcff;
      --link: #0b5cab;

      /* Activity type hues */
      --paper-bg:#eef7ff;   --paper-border:#d9e9ff; --paper-ink:#0b5cab;
      --talk-bg:#effaf3;    --talk-border:#d7f0e0;  --talk-ink:#136c3a;
      --pos-bg:#fff4ec;     --pos-border:#ffe1ce;   --pos-ink:#9a4b00;

      /* Collaboration pin hues */
      --c-de:#0ea5e9; /* Germany */
      --c-fi:#0b6a0b; /* Finland */
      --c-it:#f97316; /* Italy */
      --c-uk:#ff33ee; /* Italy */
      --c-sw:#fcff33; /* Italy */
    }

    /* Dark theme tokens */
    @media (prefers-color-scheme: dark){
      :root{
        --bg:#0f1116;
        --bg-soft:#141824;
        --ink:#e7ecf7;
        --muted:#a5adba;
        --hair:#2a3140;
        --card-bg:#141a28;
        --shadow: 0 10px 28px rgba(0,0,0,.45);
        --shadow-hover: 0 14px 36px rgba(0,0,0,.7);
        --link:#79a8ff;

        --paper-bg:#13203a; --paper-border:#21335a; --paper-ink:#9ec4ff;
        --talk-bg:#0f2620;  --talk-border:#1c3d34; --talk-ink:#8ed4b3;
        --pos-bg:#2a1a10;   --pos-border:#50331f; --pos-ink:#f9b37b;

        /* Dark map pins */
      --c-de:#0ea5e9; /* Germany */
      --c-fi:#0b6a0b; /* Finland */
      --c-it:#f97316; /* Italy */
      --c-uk:#ff33ee; /* Italy */
       /* Italy */
      }
    }

    /* Manual toggle (data-theme="dark"/"light") overrides system */
    html[data-theme="dark"]{
      --bg:#0f1116; --bg-soft:#141824; --ink:#e7ecf7; --muted:#a5adba; --hair:#2a3140; --card-bg:#141a28; --shadow: 0 10px 28px rgba(0,0,0,.45); --shadow-hover: 0 14px 36px rgba(0,0,0,.7); --link:#79a8ff;
      --paper-bg:#13203a; --paper-border:#21335a; --paper-ink:#9ec4ff;
      --talk-bg:#0f2620;  --talk-border:#1c3d34; --talk-ink:#8ed4b3;
      --pos-bg:#2a1a10;   --pos-border:#50331f; --pos-ink:#f9b37b;

      --c-de:#60c7ff; --c-fi:#9bb4ff; --c-it:#ffb36b; --c-uk:#ff33ee; --c-sw:#fcff33;
    }
    html[data-theme="light"]{
      --bg:#ffffff; --bg-soft:#fbfcff; --ink:#101215; --muted:#606870; --hair:#e6e9f0; --card-bg:#f7f9ff; --shadow: 0 10px 28px rgba(0,0,0,.06); --shadow-hover: 0 12px 32px rgba(0,0,0,.10); --link:#0b5cab;
      --paper-bg:#eef7ff; --paper-border:#d9e9ff; --paper-ink:#0b5cab;
      --talk-bg:#effaf3;  --talk-border:#d7f0e0;  --talk-ink:#136c3a;
      --pos-bg:#fff4ec;   --pos-border:#ffe1ce;   --pos-ink:#9a4b00;

      --c-de:#0ea5e9; --c-fi:#0b6a0b; --c-it:#f97316; --c-sw:#fcff33; --c-uk:#ff33ee;
    }

    html, body { direction:ltr; text-align:left; }
    html { scroll-behavior:smooth; }

    /* Background gradient + subtle grid */
    body{
      font-family:Lato,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;
      max-width:var(--content-width);
      margin:var(--outer-margin) auto;
      padding:0 var(--side-padding) 72px;
      line-height:1.65;
      color:var(--ink);
      background:
        radial-gradient(1200px 800px at 10% -10%, rgba(26,49,139,.06), transparent 60%),
        radial-gradient(900px 700px at 120% 10%, rgba(255,151,106,.07), transparent 60%),
        linear-gradient(180deg, var(--bg) 0%, var(--bg) 100%);
      position:relative;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      overflow-x:hidden;
    }
    body::before{
      content:"";
      position:fixed; inset:0;
      background:
        linear-gradient(0deg, transparent 24%, rgba(0,0,0,.035) 25%, rgba(0,0,0,.035) 26%, transparent 27%) 0 0/100% 32px,
        linear-gradient(90deg, transparent 24%, rgba(0,0,0,.035) 25%, rgba(0,0,0,.035) 26%, transparent 27%) 0 0/32px 100%;
      opacity:.18; pointer-events:none; mix-blend-mode:overlay;
    }

    /* Type */
    h1{ font-size:2.2rem; margin:0 0 .3rem; color:var(--accent-ink); letter-spacing:.2px; font-weight:900; }
    h1 .grad{
      background:linear-gradient(90deg, var(--accent-ink), #ff976a);
      -webkit-background-clip: text; background-clip:text; color:transparent;
    }
    h2{
      font-size:1.08rem; margin:1.6rem 0 .7rem; color:var(--accent); text-transform:uppercase; letter-spacing:.12em;
      display:inline-flex; align-items:center; gap:.6rem; position:relative;
    }
    h2::after{
      content:""; height:3px; width:78px; border-radius:3px;
      background:linear-gradient(90deg, var(--accent), rgba(26,49,139,0));
    }
    h3{ font-size:1.03rem; margin:.2rem 0 .3rem; color:var(--ink); }

    p, li{ font-size:1rem; }
    a{ color:var(--link); text-decoration:none; border-bottom:1px solid transparent; }
    a:hover{ text-decoration:none; border-bottom-color: currentColor; }

    /* Top mini-nav */
    .subnav{
      position:sticky; top:0; z-index:50;
      display:flex; gap:10px; padding:10px var(--side-padding);
      margin:8px calc(-1 * var(--side-padding)) 12px;
      background:linear-gradient(180deg, color-mix(in oklab, var(--bg) 92%, transparent), color-mix(in oklab, var(--bg) 92%, transparent));
      backdrop-filter:saturate(120%) blur(6px);
      border-bottom:1px solid var(--hair);
    }
    .subnav a{
      display:inline-flex; align-items:center; gap:8px;
      padding:.34rem .7rem; border-radius:999px; border:1px solid var(--hair);
      color:var(--accent-ink); font-weight:800; background:color-mix(in sRGB, var(--bg-soft) 60%, transparent);
    }
    .subnav a:hover{ transform:translateY(-1px); box-shadow:0 6px 12px rgba(0,0,0,.07); }

    /* Divider */
    .rule{ height:3px; width:92px; background:linear-gradient(90deg,var(--accent), rgba(26,49,139,0)); margin:.7rem 0 1.2rem; border-radius:2px; }

    /* Masthead */
    .masthead{
      display:grid; grid-template-columns: 1fr auto; gap:22px; align-items:center; margin-bottom:8px;
    }
    .subtitle{ color:#1a1a1a; font-weight:900; margin:2px 0 4px; letter-spacing:.02em; }
    .subtitle small{ color:var(--muted); font-weight:700; }

    .avatar{
      width:168px; height:168px; object-fit:cover;
      border-radius:22px;
      border:2px solid color-mix(in oklab, var(--accent) 30%, transparent);
      box-shadow:0 10px 30px rgba(0,0,0,.15);
    }

    /* Theme toggle */
    .theme-toggle{
      margin-left:auto; display:inline-flex; gap:8px; align-items:center;
      border:1px solid var(--hair); border-radius:999px; padding:.26rem .5rem;
      background:color-mix(in sRGB, var(--bg-soft) 70%, transparent); cursor:pointer;
      font-weight:800; color:var(--accent-ink);
    }

    /* Social icons */
    .social{ display:flex; gap:10px; align-items:center; margin:.35rem 0 .2rem;
      transition: opacity 2.5s ease, transform .5s ease; }
    .social a{
      display:inline-flex; width:36px; height:36px; align-items:center; justify-content:center;
      border-radius:10px; background:color-mix(in sRGB, var(--bg-soft) 70%, transparent); border:1px solid var(--hair);
      transition:transform .15s ease, box-shadow .15s ease, background .15s ease;
    }
    .social a:hover{ transform:translateY(-1px); box-shadow:0 6px 16px rgba(0,0,0,.08); background:color-mix(in sRGB, var(--bg-soft) 100%, transparent); }
    .social svg{ width:28px; height:28px; fill:var(--accent-ink); }
    .social.hidden { opacity:0; transform: translateY(-6px); pointer-events:none; }

    .contact{ margin:.2rem 0 0; color:var(--muted); font-size:.96rem; }
    .contact a{ color:var(--link); }

    /* Base card */
    .card{
      background:
        linear-gradient(180deg, var(--card-bg) 0%, color-mix(in sRGB, var(--bg) 5%, transparent) 100%) padding-box,
        linear-gradient(135deg, rgba(26,49,139,.14), rgba(26,49,139,0)) border-box;
      border-radius: var(--radius);
      border:1px solid color-mix(in oklab, var(--accent) 15%, var(--hair));
      box-shadow: var(--shadow);
      padding:18px 20px;
      transition: transform .25s ease, box-shadow .25s ease, border-color .25s ease;
    }
    .card:hover{ transform: translateY(-3px); box-shadow: var(--shadow-hover); }

    /* Research Highlights */
    .projects-grid{ column-count:2; column-gap:46px; }
    .project-card{
      display:inline-block; width:95%; margin:0 0 22px; break-inside:avoid;
      border:1px solid color-mix(in oklab, var(--accent) 18%, var(--hair)); border-radius:18px;
      background:
        linear-gradient(180deg, color-mix(in sRGB, var(--bg-soft) 85%, transparent) 0%, var(--bg) 100%) padding-box,
        linear-gradient(135deg, rgba(26,49,139,.14), rgba(26,49,139,0)) border-box;
      box-shadow:0 10px 28px rgba(0,0,0,.08);
      padding:16px 10px 14px; overflow:hidden;
      transition:transform .25s ease, box-shadow .25s ease, border-color .25s ease, filter .25s ease;
    }
    .project-card:hover{
      transform:translateY(-6px);
      box-shadow:0 18px 42px rgba(0,0,0,.16);
      border-color:#ff976a;
      filter:saturate(1.02);
    }
    .project-card .title{ display:flex; align-items:center; gap:.6rem; margin:0 0 10px; }
    .project-card .dot{ width:14px; height:14px; border-radius:90%; background:var(--accent); box-shadow:0 0 0 4px color-mix(in oklab, var(--accent) 20%, transparent),0 0 14px rgba(26,49,139,.28); flex:0 0 auto; }
    .project-card .title h3{ margin:0; font-weight:900; font-size:1.08rem; letter-spacing:.01em; color:var(--accent-ink); position:relative; }
    .project-card .title h3::after{ content:""; position:absolute; left:0; bottom:-6px; width:44px; height:3px; border-radius:3px; background:linear-gradient(90deg,var(--accent), rgba(26,49,139,0.2)); transition:width .25s ease; }
    .project-card:hover .title h3::after{ width:72px; }
    .project-card .media{ margin:38px 90px 14px; padding:0; border-radius:1px; overflow:hidden; background:color-mix(in sRGB, var(--bg-soft) 80%, transparent); border:0px solid var(--hair); }
    .project-card .media > img,.project-card .media > video{
      width:100%; display:block; object-fit:cover;
    }
    .project-card p{ margin:0 0 1px; line-height:1.56; color:var(--ink); }
    .project-card .meta{ color:var(--muted); font-style:italic; }
    .project-card .more{
      display:inline-flex; align-items:center; gap:6px; padding:.32rem .7rem; border-radius:999px;
      background:color-mix(in sRGB, var(--bg-soft) 85%, transparent); border:1px solid var(--hair); font-weight:800;
      text-decoration:none; color:var(--accent-ink); transition:transform .15s ease, box-shadow .15s ease, background .15s ease;
    }
    .project-card .more:hover{ transform:translateY(-1px); box-shadow:0 6px 16px rgba(0,0,0,.1); background:#ff976a33; border-color:#ff976a; }

    @media (max-width:560px){ .projects-grid{ column-count:1; } }
    @media (prefers-reduced-motion:reduce){ .project-card, .project-card .more, .card { transition:none; } }

    ul{ margin:.25rem 0 .8rem 1.25rem; }
    li{ margin:.15rem 0; }

    /* Skills */
    .skills.card{ padding:18px 18px 14px; }
    .skills-grid{ display:grid; grid-template-columns:1fr 1fr; gap:16px 22px; }
    .skill-group .sg-title{ display:flex; align-items:center; gap:8px; margin:0 0 8px; font-weight:900; color:var(--accent-ink); letter-spacing:.01em; }
    .sg-title svg{ width:18px; height:18px; fill:var(--accent-ink); opacity:.9 }
    .chips{ display:flex; flex-wrap:wrap; gap:8px; }
    .chip{
      display:inline-flex; align-items:center; gap:6px; padding:.24rem .62rem; border-radius:12px;
      background:color-mix(in sRGB, var(--bg-soft) 85%, transparent); border:1px solid var(--hair);
      font-size:.94rem; color:var(--accent-ink); font-weight:800;
      transition: transform .12s ease, box-shadow .12s ease, background .12s ease, border-color .12s ease;
    }
    .chip:hover{ transform:translateY(-1px); box-shadow:0 6px 12px rgba(0,0,0,.06); border-color:#ff976a; background:#ff976a22; }

    /* Print */
    @media print{
      @page{ size:A4; margin:18mm 22mm; }
      body{ max-width:none; margin:0; padding:0; background:#fff; }
      a{ text-decoration:none; color:inherit; }
      h2{ margin-top:10pt; }
      .masthead{ grid-template-columns:1fr auto; gap:14pt; }
      .avatar{ width:110px; height:110px; }
      .rule{ margin:.3rem 0 .7rem; }
      .card, .project-card{ box-shadow:none; background:#fff; transform:none; border-color:#ddd; }
      .subnav, .theme-toggle{ display:none !important; }
    }

    @media (max-width:760px){
      .skills-grid{ grid-template-columns:1fr; }
    }
    @media (max-width:560px){
      .masthead{ grid-template-columns:1fr; text-align:left; }
      .avatar{ width:124px; height:124px; justify-self:start; border-radius:16px; }
    }

    /* Typewriter */
    .subtitle{ position:relative; display:flex; align-items:center; gap:.4rem; }
    .cursor{
      width:2px; height:1.2em; background:var(--accent-ink);
      display:inline-block; translate:0 .1em;
      animation: blink .9s steps(1) infinite;
    }
    @keyframes blink{ 50% { opacity:0; } }
    @media (prefers-reduced-motion: reduce){ .cursor{ display:none; animation:none; } }

    /* ======= Activities â€” CARD STYLE (with light/dark support) ======= */
    .activities{ margin-top:26px; }

    .act-controls{
      display:flex; flex-wrap:wrap; gap:12px;
      margin:.5rem 0 1rem;
    }
    .pill{
      padding:.35rem .85rem; border-radius:999px; cursor:pointer;
      font-weight:700; font-size:.88rem;
      background:var(--card-bg); color:var(--accent-ink);
      border:1px solid color-mix(in sRGB, var(--hair) 85%, transparent);
      box-shadow:0 2px 6px rgba(0,0,0,.06);
      transition: transform .2s ease, box-shadow .2s ease, background .2s ease, border-color .2s ease, color .2s ease;
    }
    .pill:hover{
      transform:translateY(-2px);
      box-shadow:0 4px 12px rgba(0,0,0,.10);
      background:color-mix(in sRGB, var(--card-bg) 80%, var(--bg));
    }
    .pill[aria-pressed="true"]{
      background:var(--accent); color:#fff;
      border-color:var(--accent-ink);
      box-shadow:0 4px 12px rgba(0,0,0,.15);
    }
    .pill[aria-pressed="true"]:hover{ background:#16286b; color:#fff; }

    .rail-shell{
      background:var(--card-bg);
      border-radius:var(--radius);
      padding:8px;
      box-shadow:var(--shadow);
      border:1px solid color-mix(in sRGB, var(--hair) 90%, transparent);
      overflow:hidden;
    }
    .activities-rail{
      max-height:180px; overflow-y:auto; padding:10;
      scrollbar-color: color-mix(in sRGB, var(--hair) 60%, orange) color-mix(in sRGB, var(--bg-soft) 70%, transparent);
      scrollbar-width:thick;
    }
    .activities-rail::-webkit-scrollbar{ width:10px; }
    .activities-rail::-webkit-scrollbar-track{ background:color-mix(in sRGB, var(--bg-soft) 85%, transparent); border-radius:999px; }
    .activities-rail::-webkit-scrollbar-thumb{ background:color-mix(in sRGB, var(--hair) 65%, transparent); border-radius:999px; border:2px solid color-mix(in sRGB, var(--bg-soft) 85%, transparent); }
    .activities-rail::-webkit-scrollbar-thumb:hover{ background:color-mix(in sRGB, var(--hair) 80%, transparent); }

    .act-header{
      display:grid; grid-template-columns:92px 84px 1fr auto; gap:10px;
      padding:10px 12px; font-weight:700; color:var(--accent-ink); font-size:.9rem;
      border-bottom:1px solid color-mix(in sRGB, var(--hair) 85%, transparent);
      background:var(--card-bg);
      position:sticky; top:0; z-index:2;
    }

    .activity-line{
      display:grid; grid-template-columns:92px 84px 1fr auto; align-items:center;
      gap:10px; padding:10px 12px; margin:6px 4px;
      background:var(--bg); border-radius:var(--radius);
      box-shadow:0 1px 4px rgba(0,0,0,.06);
      transition: transform .2s ease, box-shadow .2s ease, background .2s ease;
      border-left:4px solid transparent;
    }
    .activity-line[data-type="Paper"]{ border-left-color:var(--paper-ink); }
    .activity-line[data-type="Talk"]{ border-left-color:var(--talk-ink); }
    .activity-line[data-type="Position"]{ border-left-color:var(--pos-ink); }

    .activity-line:hover{
      transform:translateY(-2px);
      box-shadow:0 4px 14px rgba(0,0,0,.10);
      background:color-mix(in sRGB, var(--card-bg) 60%, var(--bg));
    }

    .act-date{ color:var(--muted); font-size:.9rem; }
    .act-type{
      justify-self:start; font-weight:700; font-size:.85rem;
      padding:.2rem .45rem; border-radius:999px;
      background:color-mix(in sRGB, var(--card-bg) 85%, transparent);
    }
    .act-title{ font-weight:600; color:var(--accent-ink); font-size:.97rem; }
    .act-title a{ color:inherit; text-decoration:none; border-bottom:1px solid transparent; }
    .act-title a:hover{ border-bottom-color:currentColor; }
    .act-link{ justify-self:end; font-weight:700; color:var(--accent); text-decoration:none; }
    .act-link:hover{ text-decoration:underline; }

    @media (max-width:560px){
      .act-header, .activity-line{
        grid-template-columns:80px 1fr;
        grid-template-areas:
          "date type"
          "title title"
          "link link";
        row-gap:4px;
      }
      .act-date{ grid-area:date; }
      .act-type{ grid-area:type; justify-self:end; }
      .act-title{ grid-area:title; display:-webkit-box; -webkit-box-orient:vertical; -webkit-line-clamp:2; overflow:hidden; }
      .act-link{ grid-area:link; justify-self:start; }
    }

    /* ========= NETWORKS (list + static map with pins) ========= */
    .networks-grid{
      display:grid; grid-template-columns: minmax(200px, 280px) 1fr; gap:16px; align-items:start;
      margin-top: 8px;
    }
    @media (max-width: 720px){
      .networks-grid{ grid-template-columns: 1fr; }
    }
    .collab-list{
      list-style:none; margin:0; padding:0; display:flex; flex-direction:column; gap:2px;
    }
    .collab-list li{
      display:flex; align-items:center; gap:8px; padding:6px 10px; font-size:.72rem; border-radius:12px;
      background:var(--card-bg); border:1px solid color-mix(in sRGB, var(--hair) 85%, transparent);
      box-shadow:var(--shadow); cursor:pointer; user-select:none;
    }
    .collab-list li:hover{ transform:translateY(-1px); box-shadow:var(--shadow-hover); }
    .cdot{ width:10px; height:10px; border-radius:50%; flex:0 0 auto; box-shadow:0 0 0 2px #fff inset, 0 0 0 1px rgba(0,0,0,.15); }
    .cdot.c-de{ background:var(--c-de); } .cdot.c-fi{ background:var(--c-fi);} .cdot.c-it{ background:var(--c-it);} .cdot.c-uk{ background:var(--c-uk);} .cdot.c-sw{ background:var(--c-sw);}

    .collab-static{
      position:relative; border:1px solid color-mix(in sRGB, var(--accent) 15%, transparent); border-radius:12px; overflow:hidden;
      box-shadow:var(--shadow); background:var(--bg-soft);
      width:100%; margin:.6rem auto;
    }
    .collab-static img.map{ width:100%; height:auto; display:block; background:linear-gradient(180deg,color-mix(in sRGB, var(--accent) 6%, transparent),transparent); }
    .collab-static #pins{ position:absolute; inset:0; pointer-events:auto; z-index:2; }

    .pin{ position:absolute; transform:translate(-50%,-100%); pointer-events:auto; cursor:default; outline:none; color:var(--c-uk);
      --stem-h: 14px; --dot-size: 10px; --ring-size: 22px; --ring2-size: 0px; z-index:1; transition:filter .15s ease, opacity .15s ease; }
    .pin .stem{ position:absolute; left:50%; bottom:0; transform:translateX(-50%); width:0; height:var(--stem-h); border-left:2px solid currentColor; filter:drop-shadow(0 0 1px rgba(0,0,0,.2)); }
    .pin .dot{ position:absolute; left:50%; bottom: calc(var(--stem-h) - (var(--dot-size) / 2)); transform: translateX(-50%); width:var(--dot-size); height:var(--dot-size); border-radius:50%; background: currentColor; box-shadow:0 0 0 2px #fff inset, 0 0 0 1px rgba(0,0,0,.15); transition:transform .12s ease; z-index:2; }
    .pin:hover .dot, .pin:focus-visible .dot{ transform: translateX(-50%) scale(1.15);} 
    .pin .ring{ position:absolute; left:50%; bottom: calc(var(--stem-h) - (var(--ring-size) / 2)); transform: translateX(-50%); width:var(--ring-size); height:var(--ring-size); border-radius:50%; border:2px solid currentColor; opacity:.85; animation:ping 1.6s ease-out infinite; z-index:1; }
    .pin .ring2{ position:absolute; left:50%; bottom: calc(var(--stem-h) - (var(--ring2-size) / 2)); transform: translateX(-50%); width:var(--ring2-size); height:var(--ring2-size); border-radius:50%; border:2px solid currentColor; opacity:.7; animation:pingStrong 1.6s .25s ease-out infinite; z-index:1; }

    .pin.home{ --stem-h: 16px; --dot-size: 12px; --ring-size: 28px; --ring2-size: 38px; color:var(--c-de); }
    .pin.c-de{ color:var(--c-de); } .pin.c-fi{ color:var(--c-fi);} .pin.c-it{ color:var(--c-it);} .cdot.c-sw{ background:var(--c-sw);} .cdot.c-uk{ background:var(--c-uk);}
    .pin.home .dot{ box-shadow:0 0 0 2px #fff inset, 0 0 0 1px rgba(0,0,0,.2), 0 0 8px rgba(0,100,0,.35); }

    .pin.inactive{ opacity:.55; filter:grayscale(.2); }
    .pin.inactive:hover{ opacity:1; filter:none; z-index:6; }

    .collab-card{
      position:absolute; width:3.9cm; max-width: min(3.9cm, calc(100% - 24px)); background:var(--bg); border:1px solid color-mix(in sRGB, var(--hair) 75%, transparent); border-radius:10px; box-shadow:0 6px 22px rgba(0,0,0,.14); padding:.55rem .65rem .65rem; opacity:0; visibility:hidden; transition:opacity .18s ease, visibility .18s ease; z-index:10; pointer-events:auto;
      color:var(--ink);
    }
    .collab-card.open{ opacity:1; visibility:visible; }
    .collab-card .card-title{ font-weight:700; font-size:.85rem; margin:0 0 .2rem; color:var(--accent-ink); }
    .collab-card .card-body{ font-size:.8rem; line-height:1.35; word-wrap:break-word; }
    .collab-caret{ position:absolute; top:50%; transform:translateY(-50%); width:0; height:0; filter:drop-shadow(0 1px 0 rgba(0,0,0,.08)); }
    .collab-card.place-right .collab-caret{ left:-8px; border:8px solid transparent; border-right-color:var(--bg); }
    .collab-card.place-left  .collab-caret{ right:-8px; border:8px solid transparent; border-left-color:var(--bg); }

    @keyframes ping{ 0% { transform:translateX(-50%) scale(.2); opacity:.85; } 70%{ transform:translateX(-50%) scale(1.5); opacity:0; } 100%{ transform:translateX(-50%) scale(1.6); opacity:0; } }
    @keyframes pingStrong{ 0% { transform:translateX(-50%) scale(.22); opacity:.95; } 65%{ transform:translateX(-50%) scale(1.8); opacity:0; } 100%{ transform:translateX(-50%) scale(1.9); opacity:0; } }
  </style>
</head>
<body>

  <!-- Sticky mini-nav -->
  <nav class="subnav" aria-label="Section navigation">
    <a href="#about">About</a>
    <a href="#projects">Highlights</a>
    <a href="#skills">Skills</a>
    <a href="#recent-activities">Activities</a>
    <a href="#networks">Networks</a>
    <button id="themeToggle" class="theme-toggle" type="button" aria-pressed="false" title="Toggle light/dark">ðŸŒž / ðŸŒ™</button>
  </nav>

  <!-- Masthead -->
  <header class="masthead">
    <div class="titleblock">
      <h1><span class="grad">Hossein Vahid, D. Sc. (Tech.)</span></h1>

      <div class="subtitle">
        <span id="tw-text" aria-live="polite"></span>
        <span class="cursor" aria-hidden="true"></span>
      </div>

      <div class="social hidden">
        <a href="https://www.linkedin.com/in/hossein-vahid93/" target="_blank" rel="noopener" aria-label="LinkedIn">
          <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M4.98 3.5A2.5 2.5 0 1 0 5 8.5a2.5 2.5 0 0 0 0-5zM3 9h4v12H3zM9 9h3.8v1.7h.1c.5-.9 1.7-1.9 3.6-1.9 3.9 0 4.6 2.6 4.6 6v6H18V16c0-1.5 0-3.5-2.1-3.5-2.1 0-2.4 1.6-2.4 3.4V21H9z"/></svg>
        </a>
        <a href="https://github.com/hosseinv93" target="_blank" rel="noopener" aria-label="GitHub">
          <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12 .5a11.5 11.5 0 0 0-3.64 22.42c.58.11.8-.25.8-.56v-2.1c-3.26.71-3.95-1.4-3.95-1.4-.53-1.34-1.3-1.7-1.3-1.7-1.07-.74.08-.72.08-.72 1.18.08 1.8 1.22 1.8 1.22 1.05 1.79 2.76 1.27 3.43.97.11-.77.41-1.27.75-1.56-2.6-.29-5.33-1.3-5.33-5.8 0-1.28.46-2.33 1.22-3.15-.12-.3-.53-1.53.12-3.18 0 0 1-.32 3.28 1.2a11.4 11.4 0 0 1 5.98 0c2.28-1.52 3.28-1.2 3.28-1.2.65 1.65.24 2.88.12 3.18.76.82 1.22 1.87 1.22 3.15 0 4.51-2.74 5.51-5.36 5.8.42.36.8 1.06.8 2.14v3.17c0 .31.21.68.81.56A11.5 11.5 0 0 0 12 .5z"/></svg>
        </a>
        <a href="https://scholar.google.com/citations?user=C2zv5SYAAAAJ&hl=en" target="_blank" rel="noopener" aria-label="Google Scholar">
          <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/c/c7/Google_Scholar_logo.svg/512px-Google_Scholar_logo.svg.png?20200110094142" alt="Google Scholar" width="28" height="28" loading="lazy">
        </a>
        <a href="https://orcid.org/0000-0002-7345-5423" target="_blank" rel="noopener" aria-label="ORCID">
          <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/06/ORCID_iD.svg/512px-ORCID_iD.svg.png?20190308043226" alt="ORCID" width="28" height="28" loading="lazy">
        </a>
        <a href="https://www.researchgate.net/profile/Hossein-Vahid?ev=prf_overview"
           target="_blank" rel="noopener" aria-label="ResearchGate">
          <img src="https://upload.wikimedia.org/wikipedia/commons/5/5e/ResearchGate_icon_SVG.svg"
               alt="ResearchGate" width="28" height="28" loading="lazy">
        </a>
      </div>

      <div class="contact">
        Email: <a href="mailto:vahid@ipfdd.de">vahid@ipfdd.de</a>
      </div>
    </div>

    <img class="avatar" src="assets/img/me.png" alt="Portrait of Hossein Vahid" />
  </header>

  <div class="rule"></div>

  <!-- About -->
  <section id="about">
    <h2>About Me</h2>
    <article class="card">
      <p>
        I'm a postdoctoral researcher at the Leibniz Institute of Polymer Research in Dresden. My background is in computational physics. I did my Ph.D. at Aalto University, and my focus has been on soft matter and materials science. My main tools are <strong>molecular dynamics</strong>, <strong>Brownian dynamics</strong>, <strong>density functional theory</strong>, and <strong>machine learning</strong>, which I use to study things like polyelectrolytes, active matter, and interfacial phenomena.
      </p>
    </article>
  </section>

  <!-- Research Highlights -->
  <section id="projects" style="margin-top:10px;">
    <h2>Research Highlights</h2>

    <div class="projects-grid">
      <article class="project-card">
        <div class="title">
          <span class="dot" aria-hidden="true"></span>
          <h3>Polar Polymer Assemblies</h3>
        </div>

        <div class="media">
          <video autoplay loop muted playsinline preload="metadata" poster="assets/videos/TDAP_poster.jpg">
            <source src="assets/videos/TDAP.mp4" type="video/mp4">
            Your browser does not support the video tag.
          </video>
        </div>

        <p><strong>Polar polymers in stochastic activity gradients</strong> spontaneously form long-lived entangled clusters.</p>
        <p class="meta"><em>Collective Dynamics in Active Polar Polymer Assemblies</em><br>
          <strong>Hossein Vahid</strong>, Jens-Uwe Sommer, Abhinav Sharma â€” <em>Physical Review Research</em> (2025)
        </p>
        <a class="more" href="https://doi.org/10.1103/g369-z3hn" target="_blank" rel="noopener">Read more</a>
      </article>

      <article class="project-card">
        <div class="title">
          <span class="dot" aria-hidden="true"></span>
          <h3>DNA-like Polyelectrolytes</h3>
        </div>

        <div class="media">
          <img src="assets/img/PE-ADSORPTION.png" alt="DNA-like polyelectrolyte adsorption simulation" loading="lazy">
        </div>

        <p><strong>Substrate dielectric contrast and salt valency</strong> govern adsorption strength, image-charge attraction, and monolayer formation in coarse-grained MD.</p>
        <p class="meta"><em>Adsorption of polyelectrolytes in the presence of varying dielectric discontinuity between solution and substrate</em><br>
          <strong>Hossein Vahid</strong>, Alberto Scacchi, Maria Sammalkorpi, Tapio Ala-Nissila â€” <em>Journal of Chemical Physics</em> 161, 134907 (2024)
        </p>
        <a class="more" href="https://doi.org/10.1063/5.0223124" target="_blank" rel="noopener">Read more</a>
      </article>

      <article class="project-card">
        <div class="project-head">
          <span class="dot" aria-hidden="true"></span>
          <h3>High-Performance Computing & Data Analysis</h3>
        </div>
        <div class="media contain">
          <img src="images/hpc-placeholder.jpg" alt="HPC workflow schematic" loading="lazy">
        </div>
        <div class="project-body">
          <p>Scalable workflows and Python post-processing pipelines for large-scale MD simulations.</p>
        </div>
      </article>

      <article class="project-card">
        <div class="project-head">
          <span class="dot" aria-hidden="true"></span>
          <h3>Machine Learning for Materials</h3>
        </div>
        <div class="media contain">
          <img src="images/ml-placeholder.jpg" alt="ML models for materials properties" loading="lazy">
        </div>
        <div class="project-body">
          <p>Applying ML models to predict properties and behavior of materials at atomic and molecular scales.</p>
        </div>
      </article>
    </div>
  </section>

  <!-- Skills -->
  <section id="skills">
    <h2>Skills</h2>
    <div class="card skills">
      <div class="skills-grid">

        <!-- Programming -->
        <div class="skill-group">
          <div class="sg-title">
            <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M8.7 17.7 3 12l5.7-5.7 1.4 1.4L5.8 12l4.3 4.3-1.4 1.4Zm6.6 0-1.4-1.4 4.3-4.3-4.3-4.3 1.4-1.4L21 12l-5.7 5.7Z"/></svg>
            <span>Programming</span>
          </div>
          <div class="chips">
            <span class="chip">Python</span>
            <span class="chip">Bash</span>
            <span class="chip">C++</span>
            <span class="chip">MATLAB</span>
            <span class="chip">HTML</span>
          </div>
        </div>

        <!-- Materials & Simulation -->
        <div class="skill-group">
          <div class="sg-title">
            <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M9 3h6v2h-1v3.6l5.8 9.5A2 2 0 0 1 18 21H6a2 2 0 0 1-1.8-2.9L10 8.6V5H9V3Zm1.7 7-5.3 8.6a.5.5 0 0 0 .4.7h12a.5.5 0 0 0 .4-.7L13.9 10H10.7Z"/></svg>
            <span>Materials &amp; Simulation</span>
          </div>
          <div class="chips">
            <span class="chip">LAMMPS</span><span class="chip">GROMACS</span><span class="chip">VASP</span><span class="chip">FHI-aims</span>
            <span class="chip">MLIP</span><span class="chip">USPEX</span><span class="chip">ORCA</span><span class="chip">SchrÃ¶dinger&nbsp;Maestro</span>
          </div>
        </div>

        <!-- Data Science -->
        <div class="skill-group">
          <div class="sg-title">
            <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12 3c5 0 9 1.57 9 3.5S17 10 12 10 3 8.43 3 6.5 7 3 12 3Zm9 5v3.5C21 13.43 17 15 12 15s-9-1.57-9-3.5V8c1.9 1.52 5.6 2.5 9 2.5S19.1 9.52 21 8Zm0 6v3.5C21 19.43 17 21 12 21s-9-1.57-9-3.5V14c1.9 1.52 5.6 2.5 9 2.5s7.1-.98 9-2.5Z"/></svg>
          <span>Data Science</span>
          </div>
          <div class="chips">
            <span class="chip">NumPy</span><span class="chip">Pandas</span><span class="chip">scikit-learn</span><span class="chip">Matplotlib</span><span class="chip">Jupyter</span>
          </div>
        </div>

        <!-- Other -->
        <div class="skill-group">
          <div class="sg-title">
            <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M7 7V5a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2h3a2 2 0 0 1 2 2v3h-4v2h-2v-2H8v2H6v-2H2V9a2 2 0 0 1 2-2h3Z"/></svg>
            <span>Other</span>
          </div>
          <div class="chips">
            <span class="chip">Linux</span><span class="chip">LaTeX</span><span class="chip">PyCharm</span><span class="chip">VESTA</span>
            <span class="chip">VMD</span><span class="chip">OVITO</span><span class="chip">Overleaf</span><span class="chip">Inkscape</span>
            <span class="chip">MS Office</span><span class="chip">Git</span>
          </div>
        </div>

      </div>
    </div>
  </section>

  <!-- Activities -->
  <section id="recent-activities" class="activities">
    <h2>Activities</h2>

    <div class="act-controls" aria-label="Filter activities by type">
      <button class="pill" data-filter="All" aria-pressed="true">All</button>
      <button class="pill" data-filter="Paper" aria-pressed="false">Paper</button>
      <button class="pill" data-filter="Talk" aria-pressed="false">Talk</button>
      <button class="pill" data-filter="Position" aria-pressed="false">Position</button>
    </div>

    <div class="rail-shell">
      <div class="activities-rail" role="list" aria-label="Recent activities (scroll to view more)">
        <div class="act-header" aria-hidden="true">
          <div>Date</div><div>Type</div><div>Title</div><div>Link</div>
        </div>

        <div class="activity-line" role="listitem" data-type="Paper">
          <time class="act-date" datetime="2025-09-10">Sep 10, 2025</time>
          <span class="act-type">Paper</span>
          <div class="act-title"><a href="https://doi.org/10.48550/arXiv.2503.11396" target="_blank" rel="noopener">Active polar polymer assemblies â€” preprint out</a></div>
          <a class="act-link" href="https://doi.org/10.48550/arXiv.2503.11396" target="_blank" rel="noopener">Read</a>
        </div>

        <div class="activity-line" role="listitem" data-type="Paper">
          <time class="act-date" datetime="2025-09-10">Sep 10, 2025</time>
          <span class="act-type">Paper</span>
          <div class="act-title"><a href="https://doi.org/10.48550/arXiv.2503.11396" target="_blank" rel="noopener">Active polar polymer assemblies â€” preprint out</a></div>
          <a class="act-link" href="https://doi.org/10.48550/arXiv.2503.11396" target="_blank" rel="noopener">Read</a>
        </div>


        <div class="activity-line" role="listitem" data-type="Paper">
          <time class="act-date" datetime="2025-09-10">Sep 10, 2025</time>
          <span class="act-type">Paper</span>
          <div class="act-title"><a href="https://doi.org/10.48550/arXiv.2503.11396" target="_blank" rel="noopener">Active polar polymer assemblies â€” preprint out</a></div>
          <a class="act-link" href="https://doi.org/10.48550/arXiv.2503.11396" target="_blank" rel="noopener">Read</a>
        </div>



        <div class="activity-line" role="listitem" data-type="Talk">
          <time class="act-date" datetime="2025-07-02">Jul 2, 2025</time>
          <span class="act-type">Talk</span>
          <div class="act-title"><a href="https://doi.org/10.1063/5.0223124" target="_blank" rel="noopener">Invited talk: Polyelectrolyte adsorption &amp; dielectric contrast</a></div>
          <a class="act-link" href="https://doi.org/10.1063/5.0223124" target="_blank" rel="noopener">Related</a>
        </div>

        <div class="activity-line" role="listitem" data-type="Position">
          <time class="act-date" datetime="2024-10-01">Oct 1, 2024</time>
          <span class="act-type">Position</span>
          <div class="act-title">Joined IPF Dresden as Postdoc (Active Matter Group)</div>
          <span></span>
        </div>

      </div>
    </div>
  </section>

  <!-- ======================= Networks (map + list) ======================= -->
  <section id="networks">
    <h2>Networks</h2>
    <div class="networks-grid" aria-label="Collaborator map and list">
      <!-- LEFT: Collaborator list -->
      <ul class="collab-list" id="collabList" aria-label="Collaborators (click to highlight)">
        <li data-key="home">
          <span class="cdot c-it"></span>
          <span>Me â€” Leibniz IPF Dresden, Germany</span>
        </li>
        <li data-key="abhinav">
          <span class="cdot c-de"></span>
          <span>A. Sharma â€” IPF Dresden, Germany</span>
        </li>
        <li data-key="jus">
          <span class="cdot c-de"></span>
          <span>J.-U. Sommer â€” IPF Dresden, Germany</span>
        </li>
        <li data-key="tapio">
          <span class="cdot c-uk"></span>
          <span>T. Ala-Nissila â€” Aalto University, Finland</span>
        </li>
        <li data-key="arsalan">
          <span class="cdot c-fi"></span>
          <span>A. Hashemi â€” Aalto University, Finland</span>
        </li>
        <li data-key="maria">
          <span class="cdot c-fi"></span>
          <span>M. Sammalkorpi â€” Aalto University, Finland</span>
        </li>
        <li data-key="alberto">
          <span class="cdot c-fi"></span>
          <span>A. Scacchi â€” University of Turku, Finland</span>
        </li>
      </ul>

      <!-- RIGHT: Static world map with pins -->
      <section class="collab-static" aria-label="Static map with collaboration pins">
        <img class="map" id="worldmap" src="assets/img/dd.jpg" alt="World map (equirectangular)" loading="lazy" decoding="async" />
        <div id="pins"></div>
      </section>
    </div>
  </section>

  <!-- Typewriter (writes once, then reveals social) -->
  <script>
  (function(){
    const phrase = "Computational Physicist";
    const el = document.getElementById("tw-text");
    const cursor = document.querySelector(".cursor");
    const socials = document.querySelector(".social");
    if (!el || !cursor || !socials) return;

    const reduced = window.matchMedia("(prefers-reduced-motion: reduce)").matches;

    if (reduced) {
      el.textContent = phrase;
      socials.classList.remove("hidden");
      cursor.style.display = "none";
      return;
    }

    let j = 0;
    const speedType = 65;

    function typeOnce(){
      if (j < phrase.length){
        el.textContent = phrase.slice(0, ++j);
        setTimeout(typeOnce, speedType);
      } else {
        socials.classList.remove("hidden");
        cursor.style.display = "none";
      }
    }
    typeOnce();
  })();
  </script>

  <!-- Theme toggle + Activities filter -->
  <script>
    (function(){
      /* Theme toggle (persisted) */
      const root = document.documentElement;
      const btn = document.getElementById('themeToggle');

      // restore preference
      const saved = localStorage.getItem('theme-pref'); // 'dark' | 'light' | 'auto'
      if(saved){ root.setAttribute('data-theme', saved); btn.setAttribute('aria-pressed', saved==='dark'); }

      btn.addEventListener('click', ()=>{
        const current = root.getAttribute('data-theme') || 'auto';
        const next = current === 'dark' ? 'light' : 'dark';
        root.setAttribute('data-theme', next);
        localStorage.setItem('theme-pref', next);
        btn.setAttribute('aria-pressed', next==='dark');
      });

      /* Activities filter */
      const pills = document.querySelectorAll('.pill[data-filter]');
      const rows = document.querySelectorAll('.activity-line[role="listitem"]');

      function applyFilter(type){
        rows.forEach(r=>{
          const match = (type === 'All') || (r.getAttribute('data-type') === type);
          r.style.display = match ? 'grid' : 'none';
        });
      }

      pills.forEach(p=>{
        p.addEventListener('click', ()=>{
          pills.forEach(x=>x.setAttribute('aria-pressed','false'));
          p.setAttribute('aria-pressed','true');
          applyFilter(p.dataset.filter);
        });
      });
    })();
  </script>

  <!-- Networks: pins + cards -->
  <script>
    (function(){
      'use strict';

      // Helpers
      const qs  = (s, r=document) => r.querySelector(s);
      const qsa = (s, r=document) => Array.from(r.querySelectorAll(s));

      // Site data (approximate lat/lon)
      const SITES = [
        { key:'home',    person:'Me', title:'Leibniz IPF Dresden, Germany', lat:25.050, lon:1.737, cls:'c-it', home:true, desc:'Active Matter Group' },
        { key:'abhinav', person:'A. Sharma', title:'Leibniz IPF Dresden, Germany', lat:51.050, lon:13.737, cls:'c-de', desc:'Co-author on active polymers' },
        { key:'jus',     person:'J.-U. Sommer', title:'Leibniz IPF Dresden, Germany', lat:51.050, lon:13.737, cls:'c-de', desc:'Co-author & group lead' },
        { key:'tapio',   person:'T. Ala-Nissila', title:'Aalto University, Finland', lat:29.050, lon:-8.737, cls:'c-uk', desc:'Ph.D. advisor / collaborator' },
        { key:'arsalan',   person:'A. Hashemi', title:'Aalto University, Finland', lat:29.050, lon:-8.737, cls:'c-fi', desc:'Ph.D. advisor / collaborator' },
        { key:'maria',   person:'M. Sammalkorpi', title:'Aalto University, Finland', lat:60.187, lon:24.826, cls:'c-fi', desc:'Co-author on polyelectrolytes' },
        { key:'alberto', person:'A. Scacchi', title:'University of Turku, Finland', lat:45.465, lon:9.190, cls:'c-fi', desc:'Co-author on adsorption' },
      ];

      const MODELS = [];
      const container = qs('.collab-static');
      const pinsMount = qs('#pins');
      const mapImg = qs('#worldmap');

      function equirectToPct(lon, lat) {
        return { xPct: ((lon + 180) / 360) * 100, yPct: ((90 - lat) / 180) * 100 };
      }

      function buildPins(){
        if(!pinsMount) return;
        pinsMount.innerHTML = '';
        SITES.forEach(s => {
          const { xPct, yPct } = equirectToPct(s.lon, s.lat);
          const pin = document.createElement('div');
          pin.className = `pin ${s.cls || ''} ${s.home ? 'home' : ''}`;
          pin.style.left = xPct + '%';
          pin.style.top  = yPct + '%';
          pin.tabIndex = 0;
          pin.setAttribute('role','button');
          pin.setAttribute('aria-label', `${s.person} â€” ${s.title}`);

          const stem = document.createElement('div'); stem.className = 'stem';
          const ring = document.createElement('div'); ring.className = 'ring';
          const dot  = document.createElement('div'); dot.className  = 'dot';
          pin.append(stem, ring, dot);
          if(s.home){ const ring2 = document.createElement('div'); ring2.className='ring2'; pin.append(ring2); }

          pinsMount.appendChild(pin);

          // Info card
          const card = document.createElement('div');
          card.className = 'collab-card';
          const caret = document.createElement('div'); caret.className = 'collab-caret';
          const title = document.createElement('div'); title.className = 'card-title'; title.textContent = `${s.person} â€” ${s.title}`;
          const body = document.createElement('div'); body.className = 'card-body'; body.textContent = s.desc || '';
          card.append(caret, title, body);
          pinsMount.appendChild(card);

          // interactions
          function toggleCard(){
            qsa('.collab-card.open', pinsMount).forEach(c=>c.classList.remove('open'));
            card.classList.add('open');
            layoutCards();
          }
          pin.addEventListener('click', toggleCard);
          pin.addEventListener('focus', toggleCard);

          MODELS.push({ key:s.key, pin, card, xPct, yPct });
        });
      }

      function layoutCards(){
        if(!container) return;
        const cw = container.clientWidth, ch = container.clientHeight, pad = 8, gap = 12;
        MODELS.forEach(({card, xPct, yPct}) => {
          const centerX = cw*(xPct/100), centerY = ch*(yPct/100);
          const w = Math.min(card.offsetWidth || 180, cw-2*pad), h = Math.min(card.offsetHeight||100, ch-2*pad);
          let left = centerX+gap, placeRight = true;
          if(left+w+pad>cw){ left=centerX-gap-w; placeRight=false; }
          left = Math.max(pad, Math.min(left, cw-w-pad));
          let top = Math.max(pad, Math.min(centerY-h/2, ch-h-pad));
          card.style.left = left+'px';
          card.style.top = top+'px';
          card.classList.toggle('place-right', placeRight);
          card.classList.toggle('place-left', !placeRight);
        });
      }

      function connectList(){
        const items = qsa('.collab-list li');
        items.forEach(li=>{
          li.addEventListener('click', ()=>{
            const key = li.getAttribute('data-key');
            MODELS.forEach(m=>{
              const active = m.key === key || (key==='home' && m.key==='home');
              m.pin.classList.toggle('inactive', !active);
            });
            // open the card for the selected
            const model = MODELS.find(m=>m.key===key);
            if(model){
              qsa('.collab-card.open', pinsMount).forEach(c=>c.classList.remove('open'));
              model.card.classList.add('open');
              layoutCards();
            }
          });
        });
      }

      // Build once image has loaded (so we know dimensions)
      function init(){
        buildPins();
        connectList();
        layoutCards();
      }
      if (mapImg && !mapImg.complete) {
        mapImg.addEventListener('load', init, { once:true });
      } else {
        init();
      }
      window.addEventListener('resize', layoutCards);
    })();
  </script>

</body>
</html>
